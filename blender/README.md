# blender笔记

## 1. 视图切换

`1`: 主视图，+ `ctrl` 为后视图

`7`: 俯视图，+ `ctrl` 为底视图

`3`: 右视图，+ `ctrl` 为左视图

`0`: 摄像机视图

`滚轮`: 滚动视角

`cmd` + `滚轮`: 缩放

`shift` + `滚轮`: 平移

局部视图: 菜单视图=>切换局部视图

`/` 退出局部视图

`H` 隐藏物体

切换摄像机视角: 切换摄像机模式后勾选锁定摄像机到视图方位

## 2. 物体添加删除

`shift` + `A`: 添加物体

`X` / `delete`: 删除物体

`F`: 根据顶点补充面，也可从 菜单顶点=>从顶点创建边/面

文本: 进入编辑模式修改文本，中文只能粘贴进去，注意选择中文字体

安装插件添加额外物体: 菜单编辑=>偏好设置=>插件搜索  extra object

复制: 需要二次编辑使用 `shift` + `D` 复制，共用需要使用 `option` + `D` 复制

## 3. 选择

`A`: 全选

`W`: 切换框选、刷选、点选

`C` + `滚轮`: 改变刷选区域大小

`L`: 选择与当前选中目标相连的物体



循环选择：编辑模式下 (1) `option` + 点击线  (2) 选择菜单=>循环选择

关联选择：编辑模式下 (1) `cmd` + `L`  (2) 选择菜单=>选择相连元素=>关联项

最端路径：编辑模式下 (1) 选择菜单=>选择相连元素=>最短路径

## 4. 编辑模式

`tab`: 切换物体模式/编辑模式

`1`/`2`/`3`: 点线面切换

## 5. 合并与分离

合并: `cmd` + `J` 合并选中物体

分离: `L` 选中当前选择的单物体，菜单网格=>分离=>按选中项

融并面: 选择多个面=>右键=>融并面

## 6. 移动、旋转、缩放

`G` + `X/Y/Z`: 移动

`R` + `X/Y/Z`: 旋转

`C` + `X/Y/Z`: 缩放

## 7. 工具栏

`shift` + `space`: 快速打开工具栏

`E`: 挤出

`option` + `E`: 挤出选项

`I`: 内插面

`B`: 倒角

`cmd` + `R`: 环切

`K`: 切割

多边形建形: 相当于针对多边形的挤出

旋绕

光滑和随机: 平滑顶点，随机可用于制作路面等

滑移边线/顶点

法向缩放: 沿着法线方向缩放

推拉: 缩放实现靠近/远离游标

切变: 按某个轴实现形变

球形化: 让物体趋近球体

断离区域: 打开效果，如立方体纸箱开一个角，再如开罐头效果

## 8. 修改器

阵列修改器：快速生成多物体

倒角修改器：和倒角功能效果相同，但不破坏元数据

布尔修改器

镜像修改器：实现对称

实体化修改器：平面增加高度，效果类似挤出

表面细分修改器：性能更好

## 9. 动画

底部切换为动画时间线面板

`I`: 插入关键帧

沿路径效果：物体模式绘制曲线，菜单物体=>转换=>网格

`shift` + `D` 复制开始关键帧放到动画最后，实现动画回复

## 10. 原理化BSDF

类似PBR，基于物理渲染，兼容性较好

https://docs.blender.org/manual/zh-hans/latest/render/shader_nodes/shader/principled.html

## 11. 曲线

在物体模式添加NURBS曲线，移动(G)顶点，使用挤出(E)修改形状

为平面环切100次，添加修改器=>曲线，选择曲线对象

## 12. UV

uv模式下选择面=>切换(正)视图=>菜单UV=>从视角投影

## 13. 贴图一键导入

在 shading 中选中原理化 BSDF，确认开启 `node wrangler` 插件，`ctrl` + `shift` + `T` 导入草地贴图

沃罗诺伊纹理种出随机草地：shading 中 `shift` + `A` => 纹理 => 沃罗诺伊纹理，输出颜色连接BSDF基础色查看随机效果，将输出颜色连接到mapping位置实现随机草地

纹理下载

https://www.poliigon.com/

## 14. 烘焙

烘焙：把光照阴影提前计算好，输出到纹理贴图，性能更好，效果更逼真

![](./烘焙.jpg)

## 15. 设置父子集与活动相机跟随物体效果

设置/清除父子集: 选中俩物体=>菜单物体=>父级=>物体，后选中的是父级

父子集物体由虚线连接，父级修改影响子集，子集修改不影响父级

设置相机跟随：创建新摄相机，物体模式=>摄像机=>设置活动物体为相机

选中相机，`shift` 选中物体，`cmd` + `P` => 物体

## 16. 骨骼

创建骨骼，右侧选项=>视图显示=>在前面

使用 `E` 挤出创建关联骨骼

选择物体(如环切后的圆柱体)和骨骼，`cmd` + `P` =>骨架形变(附带自动权重)

点击骨架，进入姿态模式，旋转骨架，物体跟随形变

在大纲中选中物体，在编辑模式下可以修改权重值

也可以在权重模式中通过笔刷修改颜色映射不同权重值

## 17. 形变动画

如做出开花效果，先导出多个顶点个数相同的glb模型(后续变形模型仅需顶点数据)，再使用three的形变动画，设置原物体的变形顶点数据 morphAttributes，然后调用 updateMorphTargets 更新，最后使用gsap动画设置影响程度参数(morphTargetInfluences)从0到1

## 18. 模型优化

相同的物体元素，不要使用 `shift` + `D` 复制，需要使用 `option` + `D` 复制，共用材质等属性

处理网络下载的模型：

(1) 降低顶点数量，编辑模式=>菜单网格=>清理=>按间距合并

(2) 着色器必须改为原理化BSDF才能导出在threejs中正常使用的gltf模型，修改着色器类型后注意还原原来的基础色和自发光等属性，透明度改为投射属性等等

(3) 删除没有作用的着色器

## 19. gltf 模型导出优化

(1) 输出预设=>几何=>图像=>jpg格式

(2) 尽量选glb格式，并勾选压缩

(3) 服务器使用gzip压缩

## 19. 优化three渲染

原理化 BSDF 默认没有灯光，需要在 scene 中添加 hdr 场景和环境

调整摄像机位置

调整 renderer.toneMappingExposure 渲染器曝光度

添加平行光

设置渲染器 logarithmicDepthBuffer 对数深度缓冲属性，避免草地、平面距离太近导致的闪烁

## 20. 其他

`N`: 打包右侧工具条

恢复原点位置: 物体模式右键=>设定原点=>几何中心

平滑/平直着色: 不增加顶点实现表面平滑效果，物体右键选择平滑着色/平直着色，在右侧物体面板=>法向=>自动光滑，小于设置角度时平滑着色不生效

衰减模式

资产管理: 在大纲中图层右键保存为资产，编辑器下方打开资产管理器

空物体与DOM结合