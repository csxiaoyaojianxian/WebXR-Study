<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link type="text/css" rel="stylesheet" href="./public.css" />
</head>

<section class="text js-text">
    <h2>Introduction</h2>
<p>Often, while creating shaders, we need to draw specific patterns like stars, circles, light lenses, waves, etc.</p>
<p>It can help to effectively see those pattern on a geometry or it can be to move the vertices just like we did with the flag in the previous lesson.</p>
<p>We could use textures but drawing the shape gives us more control; we can animate the shape parameters, and there is no texture to load.</p>
<p>It's much more complicated than drawing with other APIs like canvas because the code is the same for every fragment, and all we have are coordinates and our mathematical skills.</p>
<p>Yes, there will be some maths in this lesson. It's one of the most frustrating parts for some people but fear not; even if you are doing poorly with maths, you'll find a solution.</p>
<p>In this lesson, we will try to draw various patterns on a plane. We will start very thoroughly, and things will get more challenging with time. It's the perfect occasion to discover classic techniques and use built-in functions.</p>
<p>For each pattern, we first study the result; then, we try to reproduce it. If you want to get better at this, pause the lesson on each pattern and try to do it yourself. Even if you fail, the solution will make more sense if you tried on you own.</p>
<h2>Setup</h2>
<p>Currently, we only have one plane on the scene with a <a target="_blank" href="https://threejs.org/docs/#api/en/materials/ShaderMaterial">ShaderMaterial</a> as a <a target="_blank" href="https://threejs.org/docs/index.html#api/en/geometries/PlaneGeometry">PlaneGeometry</a>. As a reminder, <a target="_blank" href="https://threejs.org/docs/#api/en/materials/ShaderMaterial">ShaderMaterial</a> is like <a target="_blank" href="https://threejs.org/docs/#api/en/materials/RawShaderMaterial">RawShaderMaterial</a>, with some code prepended to the shaders like importing the matrices, importing some attributes, or setting the precision.</p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/step-01.png" src="./assets/lessons/28/step-01.png" width="1792" height="1120" alt="./assets/lessons/28/step-01.png" class="is-loaded"></span></p>
<h2>Send the UV coordinates to the fragment</h2>
<p>Because we will draw the plane patterns, most of our code will be in the fragment shader. But first, we need to send the UV coordinates from the vertex shader to that fragment shader.</p>
<p>To retrieve the <code spellcheck="false">uv</code> attribute in the vertex shader, we should have written something like this:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">attribute</span> <span class="token keyword">vec2</span> uv<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>But because we are using a <a target="_blank" href="https://threejs.org/docs/#api/en/materials/ShaderMaterial">ShaderMaterial</a>, this code is already prepended to the vertex shader.</p>
<p>To send this value from the vertex shader to the fragment shader, we need a <code spellcheck="false">varying</code>. We are going to call it <code spellcheck="false">vUv</code> and assign it with the <code spellcheck="false">uv</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token comment">// ...</span>

vUv <span class="token operator">=</span> uv<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>In the fragment shader, we can retrieve this <code spellcheck="false">vUv</code> varying with the same declaration:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We now have access to the <code spellcheck="false">uv</code> coordinates in our fragment shader as <code spellcheck="false">vUv</code>. The values go from <code spellcheck="false">0, 0</code> on the bottom-left corner to <code spellcheck="false">1, 1</code> on the top-right corner.</p>
<h2>Pattern 1</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-01.png" src="./assets/lessons/28/base-01.png" width="512" height="512" alt="./assets/lessons/28/base-01.png" class="is-loaded"></span></p>
<p>This lovely color pattern is the easiest one to get. We just need to use the <code spellcheck="false">vUv</code> in the <code spellcheck="false">gl_FragColor</code> with the blue value being <code spellcheck="false">1.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 2</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-02.png" src="./assets/lessons/28/base-02.png" width="512" height="512" alt="./assets/lessons/28/base-02.png" class="is-loaded"></span></p>
<p>This is exactly the same pattern but with the blue value being <code spellcheck="false">0.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 3</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-03.png" src="./assets/lessons/28/base-03.png" width="512" height="512" alt="./assets/lessons/28/base-03.png" class="is-loaded"></span></p>
<p>Things get a little more interesting here. To get this gradient, we only use the <code spellcheck="false">x</code> property of the <code spellcheck="false">vUv</code>,  but in all first three values of  <code spellcheck="false">gl_FragColor</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>From now, we are going to draw black and white patterns like this. Instead of sending the value on <code spellcheck="false">r</code>, <code spellcheck="false">g</code>, and <code spellcheck="false">b</code> separately, we can create a <code spellcheck="false">float</code> variable named <code spellcheck="false">strength</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> vUv<span class="token punctuation">.</span>x<span class="token punctuation">;</span>

gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token keyword">vec3</span><span class="token punctuation">(</span>strength<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We will now focus on the <code spellcheck="false">strength</code> variable and try to draw the following patterns.</p>
<p>Instead of replacing your previous patterns, you can comment so you can get back to them later.</p>
<h2>Pattern 4</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-04.png" src="./assets/lessons/28/base-04.png" width="512" height="512" alt="./assets/lessons/28/base-04.png" class="is-loaded"></span></p>
<p>This pattern is exactly the same but on the <code spellcheck="false">y</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> vUv<span class="token punctuation">.</span>y<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 5</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-05.png" src="./assets/lessons/28/base-05.png" width="512" height="512" alt="./assets/lessons/28/base-05.png" class="is-loaded"></span></p>
<p>This pattern is exactly the same but we invert the value with <code spellcheck="false">1.0 - ...</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> vUv<span class="token punctuation">.</span>y<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 6</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-06.png" src="./assets/lessons/28/base-06.png" width="512" height="512" alt="./assets/lessons/28/base-06.png" class="is-loaded"></span></p>
<p>To squeeze the gradient like this, we simply multiply the value. The <code spellcheck="false">strength</code> will jump quickly to <code spellcheck="false">1</code>, but we can't show a color brighter than white so the rest of the gradient stays white:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 7</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-07.png" src="./assets/lessons/28/base-07.png" width="512" height="512" alt="./assets/lessons/28/base-07.png" class="is-loaded"></span></p>
<p>Now we are talking. To repeat the gradient, we use a modulo. The modulo operation finds the remainder after a division of the first number by the second one.</p>
<ul>
<li><code spellcheck="false">0.5</code> modulo <code spellcheck="false">1.0</code> will be <code spellcheck="false">0.5</code></li>
<li><code spellcheck="false">0.8</code> modulo <code spellcheck="false">1.0</code> will be <code spellcheck="false">0.8</code></li>
<li><code spellcheck="false">1.2</code> module <code spellcheck="false">1.0</code> will be <code spellcheck="false">0.2</code></li>
<li><code spellcheck="false">1.7</code> modulo <code spellcheck="false">1.0</code> will be <code spellcheck="false">0.7</code></li>
<li><code spellcheck="false">2.0</code> modulo <code spellcheck="false">1.0</code> will be <code spellcheck="false">0.0</code></li>
<li><code spellcheck="false">2.4</code> modulo <code spellcheck="false">1.0</code> will be <code spellcheck="false">0.4</code></li>
</ul>
<p>It's like having the first number going back to <code spellcheck="false">0</code> once it reaches the second number.</p>
<p>In many languages, we can use the <code spellcheck="false">%</code> to apply the modulo but in GLSL we have to use the <code spellcheck="false">mod(...)</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 8</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-08.png" src="./assets/lessons/28/base-08.png" width="512" height="512" alt="./assets/lessons/28/base-08.png" class="is-loaded"></span></p>
<p>This pattern seems based on the previous one but instead of a gradient, we have <code spellcheck="false">0.0</code> or <code spellcheck="false">1.0</code>.</p>
<p>We could have done this with an <code spellcheck="false">if</code> statement —because conditions do work in GLSL— but I recommend avoiding conditions for performance reasons.</p>
<p>We can use the <code spellcheck="false">step(...)</code> function. We provide an edge value as the first parameter and a number as the second parameter. If the number value is lower than the edge, we get <code spellcheck="false">0.0</code>. If it's higher than the edge, we get <code spellcheck="false">1.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> strength<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>As you can see, we used the <code spellcheck="false">step(...)</code> function in another line while re-assigning <code spellcheck="false">strength</code>. That has no performance drawback. You'll see many shader developers write huge code lines with as few variables as possible and almost no comment, but this is just because they know what they are doing.</p>
<p>Do as you want, especially if you are a beginner.</p>
<h2>Pattern 9</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-09.png" src="./assets/lessons/28/base-09.png" width="512" height="512" alt="./assets/lessons/28/base-09.png" class="is-loaded"></span></p>
<p>This pattern is the same as the previous one, but with a higher edge value for the <code spellcheck="false">step(...)</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> strength<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 10</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-10.png" src="./assets/lessons/28/base-10.png" width="512" height="512" alt="./assets/lessons/28/base-10.png" class="is-loaded"></span></p>
<p>This pattern is the same as the previous one but we used the <code spellcheck="false">x</code> axis of <code spellcheck="false">vUv</code> instead of the <code spellcheck="false">y</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> strength<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 11</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-11.png" src="./assets/lessons/28/base-11.png" width="512" height="512" alt="./assets/lessons/28/base-11.png" class="is-loaded"></span></p>
<p>We can also combine them. Here, we have to add the result of the <code spellcheck="false">x</code> axis to the result on the <code spellcheck="false">y</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">+=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 12</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-12.png" src="./assets/lessons/28/base-12.png" width="512" height="512" alt="./assets/lessons/28/base-12.png" class="is-loaded"></span></p>
<p>This pattern uses the same principle but with multiplication. We can only see their intersections:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">*=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 13</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-13.png" src="./assets/lessons/28/base-13.png" width="512" height="512" alt="./assets/lessons/28/base-13.png" class="is-loaded"></span></p>
<p>This pattern is the same as before, but we tweaked the step edge on the <code spellcheck="false">x</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">*=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 14</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-14.png" src="./assets/lessons/28/base-14.png" width="512" height="512" alt="./assets/lessons/28/base-14.png" class="is-loaded"></span></p>
<p>This pattern is a combination of the previous patterns. We create the bars on the <code spellcheck="false">x</code> axis and add the bars of the <code spellcheck="false">y</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">+=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Like in any languages, when the code gets unbearable like this, it's a good idea to refactor a little:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> barX <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> barY <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> barX <span class="token operator">+</span> barY<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 15</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-15.png" src="./assets/lessons/28/base-15.png" width="512" height="512" alt="./assets/lessons/28/base-15.png" class="is-loaded"></span></p>
<p>This pattern is the same as before, but we apply a small offset on the <code spellcheck="false">x</code> and <code spellcheck="false">y</code> axes of the bars:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> barX <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span> <span class="token operator">-</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> barY <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span> <span class="token operator">-</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> barX <span class="token operator">+</span> barY<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>That is the kind of situation where beginners like us will stick to tweaking the values until it works. There is no problem with that, and the solution will probably make sense once you find it.</p>
<h2>Pattern 16</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-16.png" src="./assets/lessons/28/base-16.png" width="512" height="512" alt="./assets/lessons/28/base-16.png" class="is-loaded"></span></p>
<p>Let's go in another direction with this one. To get this result, we first need to offset the <code spellcheck="false">vUv.x</code> so it goes from <code spellcheck="false">-0.5</code> to <code spellcheck="false">0.5</code>. Then we need the value to be always positive so it goes from <code spellcheck="false">0.5</code> to <code spellcheck="false">0.0</code> to <code spellcheck="false">0.5</code> again. For this, we can use the <code spellcheck="false">abs(...)</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 17</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-17.png" src="./assets/lessons/28/base-17.png" width="512" height="512" alt="./assets/lessons/28/base-17.png" class="is-loaded"></span></p>
<p>This pattern looks like a combination of the previous one combines with a variation on the <code spellcheck="false">y</code> axis. It's no ordinary combination. What you can see here is the minimum value between the pattern on the <code spellcheck="false">x</code> axis and the pattern on the <code spellcheck="false">y</code> axis. To do that, we use the <code spellcheck="false">min(...)</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 18</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-18.png" src="./assets/lessons/28/base-18.png" width="512" height="512" alt="./assets/lessons/28/base-18.png" class="is-loaded"></span></p>
<p>Same thing as above, but with the <code spellcheck="false">max(...)</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 19</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-19.png" src="./assets/lessons/28/base-19.png" width="512" height="512" alt="./assets/lessons/28/base-19.png" class="is-loaded"></span></p>
<p>For this pattern, we simply applied a <code spellcheck="false">step(...)</code> on the previous value:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 20</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-20.png" src="./assets/lessons/28/base-20.png" width="512" height="512" alt="./assets/lessons/28/base-20.png" class="is-loaded"></span></p>
<p>This pattern is the multiplication of one square with another but smaller and inverted.</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">*=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 21</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-21.png" src="./assets/lessons/28/base-21.png" width="512" height="512" alt="./assets/lessons/28/base-21.png" class="is-loaded"></span></p>
<p>For this pattern, we multiply <code spellcheck="false">vUv.x</code> by <code spellcheck="false">10.0</code>, round it to its lower integer with the <code spellcheck="false">floor(...)</code> function, and divide it by <code spellcheck="false">10.0</code> to get a value between <code spellcheck="false">0.0</code>, and <code spellcheck="false">1.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 22</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-22.png" src="./assets/lessons/28/base-22.png" width="512" height="512" alt="./assets/lessons/28/base-22.png" class="is-loaded"></span></p>
<p>As before, we can combine the different axes by multiplying them:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span> <span class="token operator">*</span> <span class="token function">floor</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 23</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-23.png" src="./assets/lessons/28/base-23.png" width="512" height="512" alt="./assets/lessons/28/base-23.png" class="is-loaded"></span></p>
<p>Getting this pattern is complicated because there is no native random function in GLSL. The trick is to get a value so unpredictable that it looks random.</p>
<p>One popular way to get that kind of value is using the following function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">vec2</span> st<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token function">fract</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token function">dot</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span>xy<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">12.9898</span><span class="token punctuation">,</span><span class="token number">78.233</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">43758.5453123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We provide a <code spellcheck="false">vec2</code> to this function, and we get a pseudo random value.</p>
<p>If you want to learn more about this function, here's a link from <strong>The Book of Shaders</strong>: <a target="_blank" href="https://thebookofshaders.com/10/">https://thebookofshaders.com/10/</a></p>
<p>We can add this function outside of the <code spellcheck="false">main</code> function, and use it with the <code spellcheck="false">vUv</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">varying</span> <span class="token keyword">vec2</span> vUv<span class="token punctuation">;</span>

<span class="token keyword">float</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">vec2</span> st<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token function">fract</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token function">dot</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span>xy<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">12.9898</span><span class="token punctuation">,</span><span class="token number">78.233</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">43758.5453123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token comment">// ...</span>

<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span>vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token punctuation">}</span> </code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Be careful with this random function. Using the wrong values can result in noticeable shapes in the randomness.</p>
<h2>Pattern 24</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-24.png" src="./assets/lessons/28/base-24.png" width="512" height="512" alt="./assets/lessons/28/base-24.png" class="is-loaded"></span></p>
<p>This pattern is a combination of the two previous ones. First, we create a new <code spellcheck="false">vec2</code> coordinates named <code spellcheck="false">gridUv</code> with rounded values:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> gridUv <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token function">floor</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Then, we use these coordinates with the <code spellcheck="false">random</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span>gridUv<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 25</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-25.png" src="./assets/lessons/28/base-25.png" width="512" height="512" alt="./assets/lessons/28/base-25.png" class="is-loaded"></span></p>
<p>This pattern stems from the previous one. To get this tilt effect, we must add the <code spellcheck="false">vUv.x</code> to the <code spellcheck="false">vUv.y</code> when creating the <code spellcheck="false">gridUv</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> gridUv <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">+</span> vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span>gridUv<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 26</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-26.png" src="./assets/lessons/28/base-26.png" width="512" height="512" alt="./assets/lessons/28/base-26.png" class="is-loaded"></span></p>
<p>On this pattern, the further from the bottom left corner, the brighter the strength is.</p>
<p>That is in fact the length of the <code spellcheck="false">vUv</code>. <code spellcheck="false">vUv</code> value is equal to <code spellcheck="false">0.0, 0.0</code> so the length is <code spellcheck="false">0.0</code> on the bottom-left corner and the further we go away from that corner, the higher its length is.</p>
<p>We can get the length of a vector (<code spellcheck="false">vec2</code>, <code spellcheck="false">vec3</code> or <code spellcheck="false">vec4</code>) with the <code spellcheck="false">length(...)</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">length</span><span class="token punctuation">(</span>vUv<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 27</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-27.png" src="./assets/lessons/28/base-27.png" width="512" height="512" alt="./assets/lessons/28/base-27.png" class="is-loaded"></span></p>
<p>Instead, we will get the distance between <code spellcheck="false">vUv</code> and the center of our plane. Because our plane UV goes from <code spellcheck="false">0.0, 0.0</code> to <code spellcheck="false">1.0, 1.0</code>, the center is <code spellcheck="false">0.5, 0.5</code>. We are going to create a <code spellcheck="false">vec2</code> corresponding to the center and get the distance from the <code spellcheck="false">vUv</code> with the <code spellcheck="false">distance(...)</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>When creating a vector with only one value, this value will be passed on every properties —<code spellcheck="false">x</code> and <code spellcheck="false">y</code> in our case.</p>
<p>Be aware that we could also have offset the <code spellcheck="false">vUv</code> and use the <code spellcheck="false">length(...)</code> function.</p>
<h2>Pattern 28</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-28.png" src="./assets/lessons/28/base-28.png" width="512" height="512" alt="./assets/lessons/28/base-28.png" class="is-loaded"></span></p>
<p>For this pattern, we subtract the previous value to <code spellcheck="false">1.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 29</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-29.png" src="./assets/lessons/28/base-29.png" width="512" height="512" alt="./assets/lessons/28/base-29.png" class="is-loaded"></span></p>
<p>This pattern is handy when creating a light lens effect. To get this result, we start from a small value and divide it by the previously calculated distance:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">0.015</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 30</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-30.png" src="./assets/lessons/28/base-30.png" width="512" height="512" alt="./assets/lessons/28/base-30.png" class="is-loaded"></span></p>
<p>This is the same pattern but with the UV squeezed and moved on the <code spellcheck="false">y</code> axis only:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">0.15</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5.0</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 31</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-31.png" src="./assets/lessons/28/base-31.png" width="512" height="512" alt="./assets/lessons/28/base-31.png" class="is-loaded"></span></p>
<p>And this is the same pattern multiplied with the same formula, but this second one is based on the <code spellcheck="false">x</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">0.15</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5.0</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">*=</span> <span class="token number">0.15</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5.0</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 32</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-32.png" src="./assets/lessons/28/base-32.png" width="512" height="512" alt="./assets/lessons/28/base-32.png" class="is-loaded"></span></p>
<p>Getting this pattern is rather laborious. We need to rotate the <code spellcheck="false">vUv</code> coordinates in the center. Doing a 2D rotation is a mix of <code spellcheck="false">cos(...)</code> and <code spellcheck="false">sin(...)</code> that we won't cover here. It's also a good opportunity to use functions. Add this following function before the <code spellcheck="false">main</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">vec2</span> uv<span class="token punctuation">,</span> <span class="token keyword">float</span> rotation<span class="token punctuation">,</span> <span class="token keyword">vec2</span> mid<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>
<span class="token function">cos</span><span class="token punctuation">(</span>rotation<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>uv<span class="token punctuation">.</span>x <span class="token operator">-</span> mid<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>rotation<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>uv<span class="token punctuation">.</span>y <span class="token operator">-</span> mid<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">+</span> mid<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
<span class="token function">cos</span><span class="token punctuation">(</span>rotation<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>uv<span class="token punctuation">.</span>y <span class="token operator">-</span> mid<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">sin</span><span class="token punctuation">(</span>rotation<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>uv<span class="token punctuation">.</span>x <span class="token operator">-</span> mid<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> mid<span class="token punctuation">.</span>y
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Then, we can use it to create a new set of UV that we will call <code spellcheck="false">rotatedUV</code>. The problem is that we want to rotate exactly one-eighth of a full circle. Regrettably, we don't have access to π (pi) in GLSL.</p>
<p>Instead, we can create a variable that contains an approximation to π:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> pi <span class="token operator">=</span> <span class="token number">3.1415926535897932384626433832795</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Because this variable will never change, we can save it as a <code spellcheck="false">define</code> at the start of the code:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">PI <span class="token number">3.1415926535897932384626433832795</span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Defines are cheaper than variables but cannot be changed. It is good practice to right defines in UPPERCASE to distinguish them from other variables.</p>
<p>Then we can use that <code spellcheck="false">PI</code> value for the second parameter of the <code spellcheck="false">rotate(...)</code> function (the angle):</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> rotatedUv <span class="token operator">=</span> <span class="token function">rotate</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> PI <span class="token operator">*</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>And finally, we replace our <code spellcheck="false">vUv</code> by this new <code spellcheck="false">rotatedUV</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">0.15</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>rotatedUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span>rotatedUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5.0</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">*=</span> <span class="token number">0.15</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>rotatedUv<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token punctuation">(</span>rotatedUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5.0</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 33</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-33.png" src="./assets/lessons/28/base-33.png" width="512" height="512" alt="./assets/lessons/28/base-33.png" class="is-loaded"></span></p>
<p>To draw that disc, we use the <code spellcheck="false">distance(...)</code> function with the <code spellcheck="false">step(...)</code> function and apply an offset to control the disc radius:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We could also have change the first parameter of <code spellcheck="false">step(...)</code> —named edge— to control the radius.</p>
<h2>Pattern 34</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-34.png" src="./assets/lessons/28/base-34.png" width="512" height="512" alt="./assets/lessons/28/base-34.png" class="is-loaded"></span></p>
<p>This pattern is very close to the previous one, but we use the <code spellcheck="false">abs(...)</code> function to keep a positive value:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 35</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-35.png" src="./assets/lessons/28/base-35.png" width="512" height="512" alt="./assets/lessons/28/base-35.png" class="is-loaded"></span></p>
<p>We can combine the two previous ones to get a circle:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.02</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 36</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-36.png" src="./assets/lessons/28/base-36.png" width="512" height="512" alt="./assets/lessons/28/base-36.png" class="is-loaded"></span></p>
<p>And we can invert it with <code spellcheck="false">1.0 - ...</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 37</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-37.png" src="./assets/lessons/28/base-37.png" width="512" height="512" alt="./assets/lessons/28/base-37.png" class="is-loaded"></span></p>
<p>This pattern is based on the previous one, but with a wave-like distortion. To get this result, we create a new UV variable that we can call <code spellcheck="false">wavedUv</code>, and we add a <code spellcheck="false">sin(...)</code> based on the <code spellcheck="false">x</code> axis to the <code spellcheck="false">y</code> value:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> wavedUv <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>
vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
vUv<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">30.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.1</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Then, we use that <code spellcheck="false">wavedUv</code> instead of the <code spellcheck="false">vUv</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>wavedUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 38</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-38.png" src="./assets/lessons/28/base-38.png" width="512" height="512" alt="./assets/lessons/28/base-38.png" class="is-loaded"></span></p>
<p>For this pattern, we also apply the wave distortion to the <code spellcheck="false">x</code> axis:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> wavedUv <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>
vUv<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">30.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
vUv<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">30.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.1</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>wavedUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 39</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-39.png" src="./assets/lessons/28/base-39.png" width="512" height="512" alt="./assets/lessons/28/base-39.png" class="is-loaded"></span></p>
<p>And we just have to increase the <code spellcheck="false">sin(...)</code> frequency to end up with a psychedelic effect:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec2</span> wavedUv <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>
vUv<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
vUv<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.1</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>wavedUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Imagine animating that.</p>
<h2>Pattern 40</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-40.png" src="./assets/lessons/28/base-40.png" width="512" height="512" alt="./assets/lessons/28/base-40.png" class="is-loaded"></span></p>
<p>This pattern is actually the angle of <code spellcheck="false">vUv</code>. To get an angle from 2D coordinates, we can use <code spellcheck="false">atan(...)</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x<span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> angle<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 41</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-41.png" src="./assets/lessons/28/base-41.png" width="512" height="512" alt="./assets/lessons/28/base-41.png" class="is-loaded"></span></p>
<p>This pattern is the same but with a <code spellcheck="false">0.5</code> offset on the <code spellcheck="false">vUv</code>, to create an angle around the center:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> angle<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 42</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-42.png" src="./assets/lessons/28/base-42.png" width="512" height="512" alt="./assets/lessons/28/base-42.png" class="is-loaded"></span></p>
<p>One more time, this pattern is the same, but with the angle going from <code spellcheck="false">0.0</code> to <code spellcheck="false">1.0</code>. Currently, <code spellcheck="false">atan(...)</code> returns a value between <code spellcheck="false">-π</code> and <code spellcheck="false">+π</code>. First, we can divide by <code spellcheck="false">PI * 2</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
angle <span class="token operator">/=</span> PI <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> angle<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We get a value that goes from <code spellcheck="false">-0.5</code> to <code spellcheck="false">0.5</code>. We just have to add <code spellcheck="false">0.5</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
angle <span class="token operator">/=</span> PI <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
angle <span class="token operator">+=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> angle<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Having a proper angle is a positive way to play with circular shapes. We will regroup the <code spellcheck="false">angle</code> operations into one line to read it more easily:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>PI <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 43</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-43.png" src="./assets/lessons/28/base-43.png" width="512" height="512" alt="./assets/lessons/28/base-43.png" class="is-loaded"></span></p>
<p>This pattern is based on the same technique we used at the beginning with modulo, but this time, with <code spellcheck="false">angle</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>PI <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">mod</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 44</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-44.png" src="./assets/lessons/28/base-44.png" width="512" height="512" alt="./assets/lessons/28/base-44.png" class="is-loaded"></span></p>
<p>And this one is using <code spellcheck="false">sin(...)</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>PI <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 45</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-45.png" src="./assets/lessons/28/base-45.png" width="512" height="512" alt="./assets/lessons/28/base-45.png" class="is-loaded"></span></p>
<p>We can use the previous value to define the circle we drew earlier's radius:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> vUv<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>PI <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> radius <span class="token operator">=</span> <span class="token number">0.25</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.02</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> radius<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 46</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-46.png" src="./assets/lessons/28/base-46.png" width="512" height="512" alt="./assets/lessons/28/base-46.png" class="is-loaded"></span></p>
<p>This pattern is called perlin noise. You probably already have heard of it, and, if not, you probably saw it without knowing it. The perlin noise is instrumental in recreating nature shapes like clouds, water, fire, terrain elevation but it can also be used to animate the grass or snow moving in the wind.</p>
<p>There are many perlin noise algorithms with different results, different dimensions (2D, 3D, and even 4D), some that repeat themselves, others more performant, etc.</p>
<p>Here is a Github gist that lists some of the most popular perlin noises we can find for GLSL: <a target="_blank" href="https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83">https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83</a></p>
<p>Be careful though; some codes might not work immediately as we will see. We will now test the first <strong>Classic Perlin Noise</strong> by <strong>Stefan Gustavson</strong>, which is a 2D noise —we provide a <code spellcheck="false">vec2</code> and we get a <code spellcheck="false">float</code> in return. Only copy the code to your shader, but don't use it yet:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token comment">//  Classic Perlin 2D Noise </span>
<span class="token comment">//  by Stefan Gustavson</span>
<span class="token comment">//</span>
<span class="token keyword">vec2</span> <span class="token function">fade</span><span class="token punctuation">(</span><span class="token keyword">vec2</span> t<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> t<span class="token operator">*</span>t<span class="token operator">*</span>t<span class="token operator">*</span><span class="token punctuation">(</span>t<span class="token operator">*</span><span class="token punctuation">(</span>t<span class="token operator">*</span><span class="token number">6.0</span><span class="token operator">-</span><span class="token number">15.0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">float</span> <span class="token function">cnoise</span><span class="token punctuation">(</span><span class="token keyword">vec2</span> P<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">vec4</span> Pi <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>P<span class="token punctuation">.</span>xyxy<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec4</span> Pf <span class="token operator">=</span> <span class="token function">fract</span><span class="token punctuation">(</span>P<span class="token punctuation">.</span>xyxy<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Pi <span class="token operator">=</span> <span class="token function">mod</span><span class="token punctuation">(</span>Pi<span class="token punctuation">,</span> <span class="token number">289.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// To avoid truncation effects in permutation</span>
<span class="token keyword">vec4</span> ix <span class="token operator">=</span> Pi<span class="token punctuation">.</span>xzxz<span class="token punctuation">;</span>
<span class="token keyword">vec4</span> iy <span class="token operator">=</span> Pi<span class="token punctuation">.</span>yyww<span class="token punctuation">;</span>
<span class="token keyword">vec4</span> fx <span class="token operator">=</span> Pf<span class="token punctuation">.</span>xzxz<span class="token punctuation">;</span>
<span class="token keyword">vec4</span> fy <span class="token operator">=</span> Pf<span class="token punctuation">.</span>yyww<span class="token punctuation">;</span>
<span class="token keyword">vec4</span> i <span class="token operator">=</span> <span class="token function">permute</span><span class="token punctuation">(</span><span class="token function">permute</span><span class="token punctuation">(</span>ix<span class="token punctuation">)</span> <span class="token operator">+</span> iy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec4</span> gx <span class="token operator">=</span> <span class="token number">2.0</span> <span class="token operator">*</span> <span class="token function">fract</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">0.0243902439</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1.0</span><span class="token punctuation">;</span> <span class="token comment">// 1/41 = 0.024...</span>
<span class="token keyword">vec4</span> gy <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>gx<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">vec4</span> tx <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>gx <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gx <span class="token operator">=</span> gx <span class="token operator">-</span> tx<span class="token punctuation">;</span>
<span class="token keyword">vec2</span> g00 <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>gx<span class="token punctuation">.</span>x<span class="token punctuation">,</span>gy<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec2</span> g10 <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>gx<span class="token punctuation">.</span>y<span class="token punctuation">,</span>gy<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec2</span> g01 <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>gx<span class="token punctuation">.</span>z<span class="token punctuation">,</span>gy<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec2</span> g11 <span class="token operator">=</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>gx<span class="token punctuation">.</span>w<span class="token punctuation">,</span>gy<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec4</span> norm <span class="token operator">=</span> <span class="token number">1.79284291400159</span> <span class="token operator">-</span> <span class="token number">0.85373472095314</span> <span class="token operator">*</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token function">dot</span><span class="token punctuation">(</span>g00<span class="token punctuation">,</span> g00<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dot</span><span class="token punctuation">(</span>g01<span class="token punctuation">,</span> g01<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dot</span><span class="token punctuation">(</span>g10<span class="token punctuation">,</span> g10<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dot</span><span class="token punctuation">(</span>g11<span class="token punctuation">,</span> g11<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g00 <span class="token operator">*=</span> norm<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
g01 <span class="token operator">*=</span> norm<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
g10 <span class="token operator">*=</span> norm<span class="token punctuation">.</span>z<span class="token punctuation">;</span>
g11 <span class="token operator">*=</span> norm<span class="token punctuation">.</span>w<span class="token punctuation">;</span>
<span class="token keyword">float</span> n00 <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>g00<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>fx<span class="token punctuation">.</span>x<span class="token punctuation">,</span> fy<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> n10 <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>g10<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>fx<span class="token punctuation">.</span>y<span class="token punctuation">,</span> fy<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> n01 <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>g01<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>fx<span class="token punctuation">.</span>z<span class="token punctuation">,</span> fy<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> n11 <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>g11<span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>fx<span class="token punctuation">.</span>w<span class="token punctuation">,</span> fy<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec2</span> fade_xy <span class="token operator">=</span> <span class="token function">fade</span><span class="token punctuation">(</span>Pf<span class="token punctuation">.</span>xy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">vec2</span> n_x <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>n00<span class="token punctuation">,</span> n01<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span>n10<span class="token punctuation">,</span> n11<span class="token punctuation">)</span><span class="token punctuation">,</span> fade_xy<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> n_xy <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>n_x<span class="token punctuation">.</span>x<span class="token punctuation">,</span> n_x<span class="token punctuation">.</span>y<span class="token punctuation">,</span> fade_xy<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">2.3</span> <span class="token operator">*</span> n_xy<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Unluckily, this code seems to break our shader, and it's because a function named <code spellcheck="false">permute</code> is missing. Here it is and you can add it right before the <code spellcheck="false">fade</code> function:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec4</span> <span class="token function">permute</span><span class="token punctuation">(</span><span class="token keyword">vec4</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">*</span><span class="token number">34.0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token number">289.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We now have access to a <code spellcheck="false">cnoise</code> function, and we can use the <code spellcheck="false">vUv</code> on it:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">cnoise</span><span class="token punctuation">(</span>vUv<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>It's a rough result, but still, we have something. To see more of the pattern like in the preview, multiply the <code spellcheck="false">vUv</code> by <code spellcheck="false">10.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">cnoise</span><span class="token punctuation">(</span>vUv <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 47</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-47.png" src="./assets/lessons/28/base-47.png" width="512" height="512" alt="./assets/lessons/28/base-47.png" class="is-loaded"></span></p>
<p>This pattern uses the same noise, but with a step on it:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token function">cnoise</span><span class="token punctuation">(</span>vUv <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Very useful if at some point, you feel like creating a cow.</p>
<h2>Pattern 48</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-48.png" src="./assets/lessons/28/base-48.png" width="512" height="512" alt="./assets/lessons/28/base-48.png" class="is-loaded"></span></p>
<p>For this pattern, we used an <code spellcheck="false">abs(...)</code> on the value, and subtract the result to <code spellcheck="false">1.0</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">cnoise</span><span class="token punctuation">(</span>vUv <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>You can work with it to create lightnings, reflection under water or plasma energy things.</p>
<h2>Pattern 49</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-49.png" src="./assets/lessons/28/base-49.png" width="512" height="512" alt="./assets/lessons/28/base-49.png" class="is-loaded"></span></p>
<p>For this pattern, we applied a <code spellcheck="false">sin(...)</code> on the noise:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token function">cnoise</span><span class="token punctuation">(</span>vUv <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2>Pattern 50</h2>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/base-50.png" src="./assets/lessons/28/base-50.png" width="512" height="512" alt="./assets/lessons/28/base-50.png" class="is-loaded"></span></p>
<p>And for this final one, we combined the <code spellcheck="false">sin(...)</code> and the <code spellcheck="false">step(...)</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token function">cnoise</span><span class="token punctuation">(</span>vUv <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Easy peasy, black and white lemon squeezy.</p>
<h2>Test it with colors</h2>
<p>It was fun, but these black and white colors are getting dull. One cool color we had at the start was when we used the <code spellcheck="false">vUv</code> directly in the <code spellcheck="false">gl_FragColor</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl">gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>What we can do now is use that gradient color instead of the white.</p>
<h3>Mix colors</h3>
<p>To do this, we are going to use the <code spellcheck="false">mix(...)</code> function. This function needs 3 arguments:</p>
<ul>
<li>A first input that can be a <code spellcheck="false">float</code>, a <code spellcheck="false">vec2</code>, a <code spellcheck="false">vec3</code>, or a <code spellcheck="false">vec4</code>.</li>
<li>A second input, which should be of the same type.</li>
<li>A third value that has to be a <code spellcheck="false">float</code>. It will decide to take more of the first input or more of the second one. If we use <code spellcheck="false">0.0</code>, the returned value will be the first input. If we use <code spellcheck="false">1.0</code>, the return value will be the second one. If we use <code spellcheck="false">0.5</code>, the value will be a mix between the two inputs. You can also go below <code spellcheck="false">0.0</code> or above <code spellcheck="false">1.0</code> and the values will be extrapolated.</li>
</ul>
<p>Let's create a first color:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec3</span> blackColor <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Let's form a second color:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec3</span> uvColor <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span>vUv<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>We obtain the mix between the two colors according to the <code spellcheck="false">strength</code>:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token keyword">vec3</span> mixedColor <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>blackColor<span class="token punctuation">,</span> uvColor<span class="token punctuation">,</span> strength<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>And we use that mix in the <code spellcheck="false">gl_FragColor</code> without changing the alpha:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl">gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>mixedColor<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>Have fun testing this with all the previous patterns.</p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/uvColored-03.png" src="./assets/lessons/28/uvColored-03.png" width="512" height="512" alt="./assets/lessons/28/uvColored-03.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/uvColored-05.png" src="./assets/lessons/28/uvColored-05.png" width="512" height="512" alt="./assets/lessons/28/uvColored-05.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/uvColored-08.png" src="./assets/lessons/28/uvColored-08.png" width="512" height="512" alt="./assets/lessons/28/uvColored-08.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/uvColored-10.png" src="./assets/lessons/28/uvColored-10.png" width="512" height="512" alt="./assets/lessons/28/uvColored-10.png" class="is-loaded"></span></p>
<h3>Fix the strength</h3>
<p>If you test patterns such as #11, #14, and #15 with this UV gradient, you'll see some strange behaviors at the intersections.</p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/bug-11.png" src="./assets/lessons/28/bug-11.png" width="512" height="512" alt="./assets/lessons/28/bug-11.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/bug-14.png" src="./assets/lessons/28/bug-14.png" width="512" height="512" alt="./assets/lessons/28/bug-14.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/bug-15.png" src="./assets/lessons/28/bug-15.png" width="512" height="512" alt="./assets/lessons/28/bug-15.png" class="is-loaded"></span></p>
<p>It looks like the intersections are too bright, and that's what they are exactly. It's because the <code spellcheck="false">strength</code> value that we use in the <code spellcheck="false">mix(...)</code> is higher than <code spellcheck="false">1.0</code> and the output gets extrapolated —meaning it goes beyond the second value.</p>
<p>To limit this value, we can use the <code spellcheck="false">clamp(...)</code> function on the <code spellcheck="false">strength</code>. This function will simply set a low and a high limits to a value:</p>
<div class="code-toolbar"><pre contenteditable="" class=" language-glsl"><code spellcheck="false" class=" language-glsl"><span class="token comment">// Pattern 11</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">+=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
strength <span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span>strength<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Pattern 14</span>
<span class="token keyword">float</span> barX <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> barY <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> barX <span class="token operator">+</span> barY<span class="token punctuation">;</span>
strength <span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span>strength<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Pattern 15</span>
<span class="token keyword">float</span> barX <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span> <span class="token operator">-</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> barY <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span>vUv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">10.0</span> <span class="token operator">-</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strength <span class="token operator">=</span> barX <span class="token operator">+</span> barY<span class="token punctuation">;</span>
strength <span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span>strength<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>GLSL</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/fix-11.png" src="./assets/lessons/28/fix-11.png" width="512" height="512" alt="./assets/lessons/28/fix-11.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/fix-14.png" src="./assets/lessons/28/fix-14.png" width="512" height="512" alt="./assets/lessons/28/fix-14.png" class="is-loaded"></span></p>
<p class="is-image"><span class="image-inner"><img data-src="./assets/lessons/28/fix-15.png" src="./assets/lessons/28/fix-15.png" width="512" height="512" alt="./assets/lessons/28/fix-15.png" class="is-loaded"></span></p>
<h2>Go further</h2>
<p>There are many other potential patterns and many additional functions. The idea of this lesson was to give you strings to your bow for your future projects and to practice GLSL in a trivial context.</p>
<p>One useful thing we didn't try would be to put those shapes into functions. We could have created a <code spellcheck="false">getCircle</code> function, a <code spellcheck="false">getSquare</code> function, etc. with correct parameters to reuse them easily.</p>
<p>Keep practicing, don't be afraid to create new shapes, experiment, and look for help if you need it.</p>
<p>Also, try to add some uniforms to animate the values or add some tweaks to the debug panel.</p>
</section>
</body>

</html>